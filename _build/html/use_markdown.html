

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Markdown を使うには？ &#8212; handson 1 ドキュメント</title>
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="検索" href="search.html" />
    <link rel="prev" title="用語集を作る" href="use_glossary.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="use_glossary.html" title="用語集を作る"
             accesskey="P">前へ</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">handson 1 ドキュメント</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">目次</a></h3>
  <ul>
<li><a class="reference internal" href="#">Markdown を使うには？</a></li>
<li><a class="reference internal" href="#sphinxmarkdown">Sphinxで使えるMarkdown記法</a></li>
<li><a class="reference internal" href="#id6">SphinxでMarkdown記法を利用するメリット</a><ul>
<li><a class="reference internal" href="#rest">reST記法を利用するメリットは？</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="use_glossary.html"
                        title="前の章へ">用語集を作る</a></p>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/use_markdown.rst.txt"
            rel="nofollow">ソースコードを表示</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>クイック検索</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="検索" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="markdown">
<h1>Markdown を使うには？<a class="headerlink" href="#markdown" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>reST の代わりに Markdown を使うことも可能です。ただし Sphinx ディレクティブが使えない為、 toctree にぶらさげるだけの利用方法となります。</p>
<blockquote>
<div><p>Python 拡張「recommonmark」のインストール</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">recommonmark</span>
</pre></div>
</div>
<p>conf.py の編集</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">recommonmark.parser</span> <span class="k">import</span> <span class="n">CommonMarkParser</span>

<span class="n">source_parsers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;.md&#39;</span><span class="p">:</span> <span class="n">CommonMarkParser</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">source_suffix</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;.rst&#39;</span><span class="p">,</span> <span class="s1">&#39;.md&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
<p>この設定により、拡張子 .md のファイルはrecommonmarkパーサーで読み込まれるようになります。</p>
<p>次に <code class="xref std std-numref docutils literal"><span class="pre">markdown-sample</span></code> の内容をSphinxプロジェクトのディレクトリに <code class="docutils literal"><span class="pre">sample.md</span></code> というファイル名で保存します。</p>
<div class="literal-block-wrapper docutils container" id="markdown-sample">
<div class="code-block-caption"><span class="caption-text">sample.md</span><a class="headerlink" href="#markdown-sample" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-default"><div class="highlight"><pre><span></span>Sphinxサイト ミーティング 8/30
===============================
* 日時: 2017/08/30 10:00 - 12:00
* 参加者: shimizukawa, tk0miya, usaturn, r_rudi


進捗状況について
-----------------
まず進捗状況の共有を行いました。
前回ミーティング [Sphinxサイト ミーティング 5/13](meeting-0513.html)
からの進捗確認。

* サイト概要: 未着手
* Sphinの紹介: 大まかに完了。 *肉付けと見直しが必要*
* インストールページ: **完了**

&lt;!--
公式ドキュメント翻訳については省略
--&gt;


### 検討課題

1. Sphinxの紹介で、以下の絵のような、Sphinxの全体像を
   表すイメージ図が必要

   ![sphinx-flow.png](sphinx-flow.png &quot;入力から出力までの全体像、名称&quot;)

2. [sphinx-doc.org] の紹介とリンクを追加しよう

3. [進捗状況について](#進捗状況について) で確認したような進捗を自動的に
   確認する方法

議事録に補足があればbitbucketの
[ここ](https://bitbucket.org/user/path) でコメントを
付けてください。

[sphinx-doc.org]: http://sphinx-doc.org/


</pre></div>
</div>
</div>
<p>このサンプルでは画像の埋め込みを行っています。
<code class="docutils literal"><span class="pre">sphinx-flow.png</span></code> というファイル名で画像を用意して、sample.mdと同じディレクトリに置いて下さい。</p>
<p>次に、トップページからリンクするために <code class="docutils literal"><span class="pre">index.rst</span></code> の <code class="docutils literal"><span class="pre">..</span> <span class="pre">toctree::</span></code> と書かれている付近を <code class="xref std std-numref docutils literal"><span class="pre">index-rst-modify</span></code> のように編集します。</p>
<div class="literal-block-wrapper docutils container" id="index-rst-modify">
<div class="code-block-caption"><span class="caption-text">index.rst の変更部分</span><a class="headerlink" href="#index-rst-modify" title="このコードへのパーマリンク">¶</a></div>
<div class="highlight-rst"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">toctree</span><span class="p">::</span>
   <span class="nc">:maxdepth:</span> <span class="nf">2</span>

   sample
</pre></div>
</div>
</div>
</div>
<div class="section" id="sphinxmarkdown">
<h1>Sphinxで使えるMarkdown記法<a class="headerlink" href="#sphinxmarkdown" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>オリジナルのMarkdown <a class="footnote-reference" href="#id5" id="id1">[1]</a> はJohn Gruber氏が開発しました。
MarkdownはHTMLマークアップを覚えなくても、読み書きしやすいテキストベースのシンプルな記法から、HTML 文書を簡単に生成するために作られました。
HTMLは文章に対して「マークアップ」して装飾や意味を「書き加えていく」ことで、デザインや構造などを表現します。これに対して、Markdownは装飾や意味を表す記述をそぎ落として、できるだけ簡単な記述で書きつつ、同様の結果を得られるようになっています。</p>
<p>このように、オリジナルのMarkdownはシンプルな記法を目指して作られましたが、それゆえテーブル記法もなく表現力が不足しているため、多くの派生Markdown記法が生まれました。有名なのは、GitHub Flavored Markdown (GFM) <a class="footnote-reference" href="#github-markdown" id="id2">[3]</a>  やPHP Markdown Extra <a class="footnote-reference" href="#php-markdown-extra" id="id3">[2]</a> などでしょう。そして、Markdownの標準化と機能強化を目指すCommonMark <a class="footnote-reference" href="#commonmark" id="id4">[4]</a> の策定が2014年に始まりました。現在のところ、CommonMark記法はオリジナルの記法よりも表現力はあるものの、テーブル記法はまだサポートされていません。これからの議論で仕様が標準化されていくことが期待されています。 <code class="xref std std-numref docutils literal"><span class="pre">features-for-markups</span></code> は、マークアップによって表現できることの差異についてまとめたものです。</p>
<table border="1" class="docutils" id="features-for-markups">
<caption><span class="caption-text">マークアップごとの記法の違い</span><a class="headerlink" href="#features-for-markups" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>表現</td>
<td>CommonMark</td>
<td>GFM</td>
<td>reST</td>
</tr>
<tr class="row-even"><td>強調、斜体、インラインリテラル</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr class="row-odd"><td>絵文字、チェックボックス、打ち消し線</td>
<td>×</td>
<td>○</td>
<td>×</td>
</tr>
<tr class="row-even"><td>箇条書き</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr class="row-odd"><td>定義リスト、フィールドリスト、オプションリスト</td>
<td>×</td>
<td>×</td>
<td>○</td>
</tr>
<tr class="row-even"><td>引用ブロック</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr class="row-odd"><td>画像表示</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr class="row-even"><td>URLリンク</td>
<td>△ (専用記法が必要)</td>
<td>○ (直接記述も可能)</td>
<td>○ (直接記述も可能)</td>
</tr>
<tr class="row-odd"><td>ページ内リンク</td>
<td>△</td>
<td>△</td>
<td>○</td>
</tr>
<tr class="row-even"><td>ページ内目次</td>
<td>×</td>
<td>×</td>
<td>○</td>
</tr>
<tr class="row-odd"><td>相互参照</td>
<td>×</td>
<td>×</td>
<td>○</td>
</tr>
<tr class="row-even"><td>テーブル表記</td>
<td>×</td>
<td>○</td>
<td>○</td>
</tr>
<tr class="row-odd"><td>脚注</td>
<td>×</td>
<td>×</td>
<td>○</td>
</tr>
<tr class="row-even"><td>番号付き参照</td>
<td>×</td>
<td>×</td>
<td>○</td>
</tr>
<tr class="row-odd"><td>HTMLタグ</td>
<td>○ (直接記述)</td>
<td>○ (直接記述)</td>
<td>○ (rawディレクティブで可能)</td>
</tr>
<tr class="row-even"><td>コメントアウト</td>
<td>△ (HTMLのコメントアウトを使う)</td>
<td>△ (HTMLのコメントアウトを使う)</td>
<td>○</td>
</tr>
<tr class="row-odd"><td>外部ファイルinclude</td>
<td>×</td>
<td>×</td>
<td>○ (include, literalinclude)</td>
</tr>
<tr class="row-even"><td>role、ディレクティブによる記法拡張</td>
<td>×</td>
<td>×</td>
<td>○</td>
</tr>
<tr class="row-odd"><td>テキストからの図生成</td>
<td>×</td>
<td>×</td>
<td>Sphinx拡張で可能</td>
</tr>
</tbody>
</table>
<p>本ドキュメントでは <code class="docutils literal"><span class="pre">recommonmark</span></code> パーサーを使用しています。このパーサーは、名前の通りCommonMark記法をサポートしています。</p>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="http://daringfireball.net/projects/markdown/syntax">http://daringfireball.net/projects/markdown/syntax</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="php-markdown-extra" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td><a class="reference external" href="https://michelf.ca/projects/php-markdown/extra/">https://michelf.ca/projects/php-markdown/extra/</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="github-markdown" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[3]</a></td><td><a class="reference external" href="https://help.github.com/articles/github-flavored-markdown/">https://help.github.com/articles/github-flavored-markdown/</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="commonmark" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[4]</a></td><td><a class="reference external" href="http://spec.commonmark.org/">http://spec.commonmark.org/</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="id6">
<h1>SphinxでMarkdown記法を利用するメリット<a class="headerlink" href="#id6" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>すでにMarkdownでドキュメントを書いている人は、Sphinxを使ってビルドすることによって、HTMLやPDFなどの各種フォーマットへの変換や epub、gettextを利用した他言語への翻訳出力、といったSphinxの機能がすぐに利用できます。また、MarkdownとreSTのどちらも書いたことがない人にとっては、Markdownは記法が少なく覚えやすいので、最初のハードルが低いというメリットがあります。</p>
<p>このようなメリットがあるため、もともとSphinxを使っているけれども人に勧めづらい、組織にSphinxを導入したいけれどreSTを書いてもらうのが難しい、という場合にも、Markdown記法で始めることで導入のハードルを下げられるでしょう。</p>
<div class="section" id="rest">
<h2>reST記法を利用するメリットは？<a class="headerlink" href="#rest" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>reStructuredTextは1つのドキュメントソースから様々な出力形式に変換することを目標に作られています。このため、表現の幅はとても広く、その分数多くの記法が用意されています。これまでの連載で紹介してきた範囲だけでも、目次記法、ページ間の相互参照、テーブル記法、図表への自動採番、図表番号の参照、用語集、索引の自動生成、Graphvizによる図の描画などがあります。他にも外部ファイルの埋め込みや脚注など、多くの記法があります。</p>
<p>また、reSTプラグインによって記法を拡張できます。Sphinxはこの仕組みを使って、オリジナルのreSTでは提供されていないいくつかの記法を追加しています。前述の <code class="docutils literal"><span class="pre">..</span> <span class="pre">toctree::</span></code> もそのうちのひとつで、複数あるドキュメントソースファイルを1つのツリー構造に連結することで、ドキュメントの論理構造を決定します。</p>
<p>他にも、有志が作成したSphinx拡張を利用することで、sphinxcontrib-cacooやsphinxcontrib-visio等による外部からの図の埋め込み、sphinxcontrib-seqdiagの専用記法によるシーケンス図の描画(<code class="xref std std-numref docutils literal"><span class="pre">seqdiag-usecase2</span></code>)、といった機能が使えるようになります。</p>
<div class="figure" id="seqdiag-usecase2">
<img alt="_images/seqdiag_usecase.png" src="_images/seqdiag_usecase.png" />
<p class="caption"><span class="caption-text"><code class="docutils literal"><span class="pre">sphinxcontrib-seqdiag</span></code> の出力結果</span></p>
</div>
<p>こういった機能を利用するには、Markdownではなく、reSTで記述する必要があります。そこで、まずはCommonMark記法でドキュメントを書いていき、それ以上の表現力が必要になった場合には、reSTで記述することを検討してみて下さい。</p>
<p>Markdownは表現力が制限されているからこそ、覚えるのが簡単で始めやすいと言えます。
このように多機能だからといって、全て覚えなければ始められないということはないのですが、全体像を把握しづらいためか「難しい」と感じる人が多いようです。</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="use_glossary.html" title="用語集を作る"
             >前へ</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">handson 1 ドキュメント</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, sphinx-users.jp.
      このドキュメントは <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3 で生成しました。
    </div>
  </body>
</html>